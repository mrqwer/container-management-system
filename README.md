# Warehouse Management API

**REST API для учёта контейнеров и зон хранения.**  
Позволяет создавать контейнеры и зоны, отслеживать размещение и статусы контейнеров.  

**Стек технологий:**  
- Python 3.11 + FastAPI  
- SQLAlchemy + PostgreSQL  
- Docker Compose  
- Pydantic для схем и валидации  
- Makefile для удобного управления проектом  

---

## Функционал

### Модели

- **Container**  
  - `id`: уникальный идентификатор  
  - `number`: номер контейнера  
  - `type`: тип контейнера  
  - `status`: статус (`new`, `stored`, `shipped`)  
  - `zone_id`: ID зоны хранения (опционально)  
  - `arrival_time`: дата и время прибытия  

- **Zone**  
  - `id`: уникальный идентификатор  
  - `name`: название зоны  
  - `capacity`: максимальная вместимость  
  - `current_load`: текущее количество контейнеров  
  - `type`: тип зоны  

---

### Эндпоинты

| Метод | URL | Описание |
|-------|-----|----------|
| GET | `/containers` | Получить список всех контейнеров |
| POST | `/containers` | Добавить новый контейнер |
| PATCH | `/containers/{id}` | Обновить статус контейнера |
| GET | `/zones` | Получить список всех зон |
| POST | `/zones` | Создать новую зону |
| POST | `/zones/{id}/assign` | Разместить контейнер в зону (с проверкой вместимости) |

---

### Бизнес-логика

- При добавлении контейнера `current_load` зоны увеличивается  
- При отгрузке контейнера `current_load` уменьшается  
- Если зона переполнена, возвращается **ошибка 400 ("Zone Overloaded")**  
- Статусы контейнера строго ограничены через Enum: `new`, `stored`, `shipped`  
- При попытке указать недопустимый статус возвращается **HTTP 400 с понятным сообщением**

---

## Быстрый старт

### 1. Клонирование репозитория
```bash
git clone git@github.com:mrqwer/container-management-system.git

cd container-management-system
```
затем забилдим
```bash
make build
```
после зараним контейнер
```bash
make up
```
в конце можно остановить контейнер с помощью
```bash
make down
```
